<?php
namespace App\Console\Commands; use Illuminate\Console\Command; class ModuleCommand extends Command { protected $signature = 'module:make {module}'; protected $description = 'Make a module'; public function __construct() { parent::__construct(); } public function handle() { $sp7d6d7c = $this->argument('module'); if ($sp7d6d7c == '') { $this->error('Parameter empty!'); return false; } $this->generateModel($sp7d6d7c); $this->generateRepository($sp7d6d7c); $this->generateController($sp7d6d7c); $this->info('Module generated!'); } public function generateModel($sp7d6d7c) { $sp3e29aa = ucwords($sp7d6d7c); $spc48ff6 = app_path() . '/Models/' . $sp3e29aa . '.php'; try { $sp70dad2 = \File::get(app_path() . '/Boilerplate/Model.php'); } catch (Illuminate\Filesystem\FileNotFoundException $sp152bb1) { $this->error('Cannot generate Model file !'); } $sp85832f = str_replace('Sample', $sp3e29aa, $sp70dad2); \File::put($spc48ff6, $sp85832f); $this->info('Model generated!'); \Artisan::call('make:migration', array('name' => 'create_' . $sp3e29aa . '_table')); $this->info('Migration generated!'); } public function generateRepository($sp7d6d7c) { $sp3e29aa = ucwords($sp7d6d7c); $spc48ff6 = app_path() . '/Repositories/' . $sp3e29aa . 'Repository.php'; try { $sp70dad2 = \File::get(app_path() . '/Boilerplate/Repository.php'); } catch (Illuminate\Filesystem\FileNotFoundException $sp152bb1) { $this->error('Cannot generate Repository file !'); } $sp85832f = str_replace('Sample', $sp3e29aa, $sp70dad2); \File::put($spc48ff6, $sp85832f); $this->info('Repository generated!'); } public function generateController($sp7d6d7c) { $sp3e29aa = ucwords($sp7d6d7c); $spc48ff6 = app_path() . '/Http/Controllers/' . $sp3e29aa . 'Controller.php'; try { $sp70dad2 = \File::get(app_path() . '/Boilerplate/Controller.php'); } catch (Illuminate\Filesystem\FileNotFoundException $sp152bb1) { $this->error('Cannot generate Controller file !'); } $sp85832f = str_replace('Sample', $sp3e29aa, $sp70dad2); \File::put($spc48ff6, $sp85832f); $this->info('Controller generated!'); } }